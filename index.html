



<!DOCTYPE html>

<html>

<head>

       <title>JavaScript Calculator</title>

</head>

<body>

       <h1>JavaScript Calculator</h1>

       <form>

             <label for="num1">Enter first number:</label>

             <input type="number" id="num1" name="num1"><br><br>

             <label for="num2">Enter second number:</label>

             <input type="number" id="num2" name="num2"><br><br>

             <button type="button" class="num" value="1">1</button>

             <button type="button" class="num" value="2">2</button>

             <button type="button" class="num" value="3">3</button><br><br>

             <button type="button" class="num" value="4">4</button>

             <button type="button" class="num" value="5">5</button>

             <button type="button" class="num" value="6">6</button><br><br>

             <button type="button" class="num" value="7">7</button>

             <button type="button" class="num" value="8">8</button>

             <button type="button" class="num" value="9">9</button><br><br>

             <button type="button" class="num" value="0">0</button>

             <button type="button" class="but" id="add">+</button>

             <button type="button" class="but" id="subtract">-</button><br><br>

             <button type="button" class="but" id="multiply">*</button>

             <button type="button" class="but" id="divide">/</button>

             <button type="button" id="equals">(=)</button><br><br>
             <button id="clear">Clear</button>

       </form>

       <br>

       <label>Operator:</label>

       <label id="operator"></label><br><br>

       <label>Result:</label>

       <output id="output"></output>

 

       <script>





             // global variables for the numbers and operator

             let num1, num2, operator;
            
 

             // function to update the number fields

             function updateNumberFields() {

                    num1 = parseFloat(document.getElementById('num1').value);

                    num2 = parseFloat(document.getElementById('num2').value);


             };

 

             // function to handle number button clicks


 

             // function to perform addition

             function add() {

                    operator = '+';



                    document.getElementById('operator').textContent = operator


             };

 

             // function to perform subtraction

             function subtract() {
                    
                    operator = '-';

                    document.getElementById('operator').textContent = operator;

             };

 

             // function to perform multiplication

             function multiply() {

                    operator = '*';

                    document.getElementById('operator').textContent = operator;

             };

 

             // function to perform division

             function divide() {

                    operator = '/';

                    document.getElementById('operator').textContent = operator;

             };

 

             // function to perform calculation

             function calculate() {

                    updateNumberFields();

                    let result;

                
             };


const numButtons = document.querySelectorAll('.num');
const butButtons = document.querySelectorAll('.but');
let inputString = '';
let inputStringi ='';

// Set up a boolean variable to control code execution
let buttonClicked = false;





// Function to execute when button is clicked


function handleClick() {
  if (inputString.length > 0) {
    numButtons.forEach(button => {
      // Remove event listeners from the number buttons
      button.removeEventListener('click', handleClick);
      button.removeEventListener('click', click);

      button.addEventListener('click', () => {
        const numBut = button.textContent;
        let boxi = document.getElementById('num2');

        inputStringi += numBut;
        boxi.value = inputStringi;

        console.log('handle is clicked');
      });
    });
  }
}




function switchFunction() {
  if (document.getElementById("operator").textContent.trim() === "") {
    buttonClicked = true;
    click();
    console.log('yes');
  } else {
    buttonClicked = false;
    handleClick();
    console.log('no');
  }
}

switchFunction();





function click() {
  numButtons.forEach(button => {
    button.addEventListener('click', () => {
      if (buttonClicked) {
        // Code block to execute if buttonClicked is true
        const num = button.textContent;
        let box = document.getElementById('num1');

        inputString += num;
        box.value = inputString;

        console.log('bye');
      } else {
        // Code block to execute if buttonClicked is false
        return console.log('Button clicked, but buttonClicked is false');
      }
    });
  });
}





    function calculate() {
  updateNumberFields();

  let result;
  switch (operator) {
    case '+':
      result = num1 + num2;
      break;
    case '-':
      result = num1 - num2;
      break;
    case '*':
      result = num1 * num2;
      break;
    case '/':
      result = num1 / num2;
      break;
    default:
      break;
  }
  document.getElementById('output').value = result;
};

function clear() {
  // Reset all variables and input fields
  inputString = '';
  inputStringi = '';
  operator = null;
  num1 = null;
  num2 = null;
  buttonClicked = false;

  document.getElementById('num1').value = '';
  document.getElementById('num2').value = '';
  document.getElementById('operator').textContent = '';
  document.getElementById('output').value = '';
  
  // Re-add event listeners to the number buttons
  numButtons.forEach(button => {
    button.addEventListener('click', click);
  });
  
  console.log('Calculator cleared.');
}

// add event listener for clear button
document.getElementById('clear').addEventListener('click', clear);



// add event listeners for operator buttons
document.getElementById('add').addEventListener('click', add);
document.getElementById('subtract').addEventListener('click', subtract);
document.getElementById('multiply').addEventListener('click', multiply);
document.getElementById('divide').addEventListener('click', divide);


document.getElementById('add').addEventListener('click', switchFunction);
document.getElementById('subtract').addEventListener('click', switchFunction);
document.getElementById('multiply').addEventListener('click', switchFunction);
document.getElementById('divide').addEventListener('click', switchFunction);


// add event listener for equals button
document.getElementById('equals').addEventListener('click', calculate);

            
           







             
             
             </script>
 </body>
 </html>